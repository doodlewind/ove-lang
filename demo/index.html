<!DOCTYPE html>
<html>
<head>
  <title>ã€å“¦è¯­è¨€ã€‘é¢å‘çœŸæ­£ç²‰ä¸çš„ç¼–ç¨‹è¯­è¨€</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <style>
  /*!
   * "Fork me on GitHub" CSS ribbon v0.2.0 | MIT License
   * https://github.com/simonwhitaker/github-fork-ribbon-css
  */.github-fork-ribbon{width:12.1em;height:12.1em;position:absolute;overflow:hidden;top:0;right:0;z-index:9999;pointer-events:none;font-size:13px;text-decoration:none;text-indent:-999999px}.github-fork-ribbon.fixed{position:fixed}.github-fork-ribbon:before,.github-fork-ribbon:after{position:absolute;display:block;width:15.38em;height:1.54em;top:3.23em;right:-3.23em;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.github-fork-ribbon:before{content:"";padding:.38em 0;background-color:#a00;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,0.15)));background-image:-webkit-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.15));background-image:-moz-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.15));background-image:-ms-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.15));background-image:-o-linear-gradient(top,rgba(0,0,0,0),rgba(0,0,0,0.15));background-image:linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,0.15));-webkit-box-shadow:0 .15em .23em 0 rgba(0,0,0,0.5);-moz-box-shadow:0 .15em .23em 0 rgba(0,0,0,0.5);box-shadow:0 .15em .23em 0 rgba(0,0,0,0.5);pointer-events:auto}.github-fork-ribbon:after{content:attr(title);color:#fff;font:700 1em "Helvetica Neue",Helvetica,Arial,sans-serif;line-height:1.54em;text-decoration:none;text-shadow:0 -.08em rgba(0,0,0,0.5);text-align:center;text-indent:0;padding:.15em 0;margin:.15em 0;border-width:.08em 0;border-style:dotted;border-color:#fff;border-color:rgba(255,255,255,0.7)}.github-fork-ribbon.left-top,.github-fork-ribbon.left-bottom{right:auto;left:0}.github-fork-ribbon.left-bottom,.github-fork-ribbon.right-bottom{top:auto;bottom:0}.github-fork-ribbon.left-top:before,.github-fork-ribbon.left-top:after,.github-fork-ribbon.left-bottom:before,.github-fork-ribbon.left-bottom:after{right:auto;left:-3.23em}.github-fork-ribbon.left-bottom:before,.github-fork-ribbon.left-bottom:after,.github-fork-ribbon.right-bottom:before,.github-fork-ribbon.right-bottom:after{top:auto;bottom:3.23em}.github-fork-ribbon.left-top:before,.github-fork-ribbon.left-top:after,.github-fork-ribbon.right-bottom:before,.github-fork-ribbon.right-bottom:after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}
  </style>
  <style>
  html { font-size: 110px; background-color: #ddd; }
  @media (max-width: 700px) { html { font-size: 100px; } }
  @media (max-width: 600px) { html { font-size: 80px; } }
  *, div, span, h1, h2, p, body input {
    font-family:
    'Helvetica Neue', 'Helvetica', Arial, 'Hiragino Sans GB',
    'Microsoft YaHei', sans-serif;
  }
  body, div, p, span, button { font-size: .16rem; }
  main { max-width: 5rem; padding: .2rem;
    margin: auto; background-color: white; }
  h2 { text-align: center; color: #666; }
  textarea, button, input {
    display: block; font-size: .16rem; padding: .1rem;
    box-sizing: border-box; border-radius: 2px;
  }
  textarea {
    margin: .1rem auto; width: 100%; height: .5rem;
    border: 1px #ddd solid; color: #666; resize: none;
  }
  button {
    margin: .1rem auto; width: 100%; height: .4rem; border: 0;
    color: white; background-color: #4ca4ff;
  }
  input {
    margin: .1rem auto; width: 100%; height: .4rem; border: 1px #ddd solid;
    margin-bottom: .4rem; color: #666; background-color: white;
  }
  p, h3 { color: #666; }
  code {
    color: #4ca4ff; background-color: #eee; border-radius: 2px;
    font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;
    font-size: .14rem;
    padding: 0 .05rem;
  }
  </style>
</head>
<body>
<a class="github-fork-ribbon right-top fixed" href="https://github.com/doodlewind/ove-lang" title="Fork me on GitHub">Fork me on GitHub</a>
<div style="margin:0 auto;width:0px;height:0px;overflow:hidden;">
  <img src="share.png" width='700'>
</div>
<main>
  <h2>å“¦è¯­è¨€ (ove-lang)</h2>
  <p>å“¦è¯­è¨€æ˜¯ä¸€é—¨é¢å‘çœŸæ­£ç²‰ä¸çš„ç¼–ç¨‹è¯­è¨€ã€‚æ‚¨å¯ç›´æ¥åœ¨æœ¬é¡µé¢ä¸Šæ‰§è¡Œç¤ºä¾‹ä»£ç ï¼Œä½¿ç”¨å“¦è¯­è¨€è°ˆç¬‘é£ç”Ÿã€‚</p>
  <h3>è¡¨è¾¾å¼</h3>
  <p>ä»¥è®¡ç®— 1 + 2 çš„å€¼ä¸ºä¾‹ï¼š</p>
  <textarea id="o-input-0"></textarea>
  <button id="o-btn-0">å“¦</button>
  <input id="o-result-0" placeholder="1 + 2">

  <p>åœ¨ä¸Šä¾‹ä¸­ï¼Œ<code>1</code> å’Œ <code>2</code> ä½œä¸ºæ•°å­—ç±»å‹ç›¸åŠ ã€‚é™¤æ•°å­—å¤–ï¼Œè¡¨è¾¾å¼ä¸­è¿˜å¯ä»¥åŒ…æ‹¬å­—ç¬¦ä¸²ï¼š</p>
  <textarea id="o-input-1"></textarea>
  <button id="o-btn-1">å“¦</button>
  <input id="o-result-1" placeholder="1 + 's'">

  <p>è¡¨è¾¾å¼å¯ä»¥åµŒå¥—ï¼Œæ‰§è¡Œæ—¶ä¾æ¬¡ç”±å†…å±‚å‘å¤–æ±‚å€¼ï¼š</p>
  <textarea id="o-input-2"></textarea>
  <button id="o-btn-2">å“¦</button>
  <input id="o-result-2" placeholder="2016 å‡ 1926 æ˜¯å¦ç­‰äº 90?">

  <p>é™¤ <code>=</code> å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>&gt;</code> å’Œ <code>&lt;</code> æ“ä½œç¬¦ã€‚ä½†éœ€è¦æ³¨æ„å­—ç¬¦ä¸²å’Œæ•°å­—ç›¸æ¯”æ—¶å§‹ç»ˆè¿”å› <code>false</code>ï¼š
  <textarea id="o-input-3"></textarea>
  <button id="o-btn-3">å“¦</button>
  <input id="o-result-3" placeholder="å†¬é©¬çœŸçš„æ˜¯å°ä¸‰å—">

  <h3>ã€å“¦ã€‘ä¸ã€å“¦ã€‚ã€‘<del>è¯­æ³•ç³–</del></h3>
  <p>æ·±åº¦åµŒå¥—çš„è¡¨è¾¾å¼æœ«å°¾å¾€å¾€æœ‰å¾ˆå¤šæ‹¬å·ã€‚ã€å“¦ã€‘å¯ä»¥åœ¨ä»£ç ä¸­ä»»æ„ä½ç½®æ›¿ä»£ä¸€ä¸ª <code>)</code>ï¼Œè€Œé«˜å†·çš„ã€å“¦ã€‚ã€‘å¯ä»¥åœ¨ä»£ç å°¾éƒ¨è¡¥å…¨æ‰€æœ‰çš„ <code>)</code>ï¼š</p>
  <textarea id="o-input-9" style="height: 2.2rem"></textarea>
  <button id="o-btn-9">å“¦</button>
  <input id="o-result-9" placeholder="å¿µè¯—">

  <h3>ã€è¡¨æ€ã€‘å…³é”®å­—</h3>
  <p>è¦æƒ³æ‰§è¡Œå¤šæ¡è¯­å¥ï¼Œå¯é€šè¿‡ã€è¡¨æ€ã€‘å…³é”®å­—å°†å¤šä¸ªè¡¨è¾¾å¼å¹¶åˆ—ã€‚ã€è¡¨æ€ã€‘å°†è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœï¼š</p>
  <textarea id="o-input-4" style="height: 3rem"></textarea>
  <button id="o-btn-4">å“¦</button>
  <input id="o-result-4" placeholder="ä½œä¸ºæ€»ç»“ï¼Œè¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼">

  <h3>ã€é’¦ç‚¹ã€‘å…³é”®å­—</h3>
  <p>è¦å®šä¹‰å˜é‡ï¼Œå¯é€šè¿‡ã€é’¦ç‚¹ã€‘å…³é”®å­—å®ç°ã€‚<code>(é’¦ç‚¹ A B)</code> å°†å®šä¹‰å˜é‡ Aï¼Œå¹¶ä¸ºå…¶èµ‹å€¼ Bï¼š</p>
  <textarea id="o-input-5"></textarea>
  <button id="o-btn-5">å“¦</button>
  <input id="o-result-5" placeholder="é›ªèœçœŸçš„æ˜¯ç¢§æ± å—">

  <h3>ã€é—·å£°ã€‘å…³é”®å­—</h3>
  <p>ã€é—·å£°ã€‘å…³é”®å­—å¯ä»¥åŸå°ä¸åŠ¨åœ°è¿”å›è¡¨è¾¾å¼ä¸­å‰©ä½™çš„æ‰€æœ‰å‚æ•°ï¼š</p>
  <textarea id="o-input-6"></textarea>
  <button id="o-btn-6">å“¦</button>
  <input id="o-result-6" placeholder="è¿”å›åŸæœ‰å‚æ•°">

  <p>ä¾‹å¦‚ï¼Œç›´æ¥ã€é’¦ç‚¹ã€‘ç‰¹é¦–ä¼šæ‰§è¡Œèµ‹å€¼æ“ä½œï¼š</p>
  <textarea id="o-input-7"></textarea>
  <button id="o-btn-7">å“¦</button>
  <input id="o-result-7" placeholder="æ™®é€šé’¦ç‚¹">

  <p>ä½†ä½¿ç”¨ã€é—·å£°ã€‘åå¾—åˆ°çš„æ˜¯ <code>(é’¦ç‚¹ è‘£å…ˆç”Ÿ ç‰¹é¦–)</code> è¡¨è¾¾å¼ï¼Œè€Œéè¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœï¼š</p>
  <textarea id="o-input-8"></textarea>
  <button id="o-btn-8">å“¦</button>
  <input id="o-result-8" placeholder="é—·å£°é’¦ç‚¹">

  <h3>ã€èµ„è¾å—ã€‘å…³é”®å­—</h3>
  <p>æ¡ä»¶åˆ¤æ–­é€šè¿‡ã€èµ„è¾å—ã€‘å®ç°ã€‚<code>(èµ„è¾å— test A B)</code> é¦–å…ˆåˆ¤æ–­ <code>test</code> è¡¨è¾¾å¼ç»“æœï¼Œç»“æœä¸ºçœŸæ—¶ï¼Œæ‰§è¡Œ <code>A</code>ï¼Œå¦åˆ™æ‰§è¡Œ <code>B</code>ã€‚ä¸‹ä¾‹ä¸­ï¼Œç”±äºã€é—·å£°ã€‘è¿”å›äº†éç©ºçš„ç»“æœï¼Œå› æ­¤ã€èµ„è¾å—ã€‘ä¸ºçœŸï¼š</p>
  <textarea id="o-input-12"></textarea>
  <button id="o-btn-12">å“¦</button>
  <input id="o-result-12" placeholder="ã€Šå¾®ç”µå­å·¥ä¸šçš„å‘å±•ã€‹">

  <h3>ã€å¥‰å‘Šã€‘å…³é”®å­—</h3>
  <p>å¯ä»¥é€šè¿‡ã€å¥‰å‘Šã€‘å…³é”®å­—å£°æ˜å‡½æ•°ã€‚æ³¨æ„è¿™åªæ˜¯å‡½æ•°å£°æ˜è€Œéå‡½æ•°è°ƒç”¨ï¼Œé€šè¿‡ <code>(å¥‰å‘Š (a, b...) (exp))</code> è¯­æ³•ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªè¾“å…¥å‚æ•° <code>(a, b...)</code>ï¼Œå¹¶è¾“å‡º <code>(exp)</code> è¡¨è¾¾å¼æ±‚å€¼ç»“æœçš„å‡½æ•°ã€‚ä¸‹ä¾‹å£°æ˜äº†ä¸€ä¸ªæ¥æ”¶ <code>æ—¶é—´</code> å˜é‡ï¼Œå¹¶è¿”å› <code>æ—¶é—´ + 1</code> çš„å‡½æ•°ï¼š</p>
  <textarea id="o-input-10"></textarea>
  <button id="o-btn-10">å“¦</button>
  <input id="o-result-10" placeholder="è¿”å›å‡½æ•°">

  <h3>è°ƒç”¨å‡½æ•°</h3>
  <p>ã€å¥‰å‘Šã€‘å£°æ˜çš„å‡½æ•°å¯é€šè¿‡ã€é’¦ç‚¹ã€‘å®šä¹‰åˆ°ä½œç”¨åŸŸä¸­ï¼Œè€Œé€šè¿‡ã€è¡¨æ€ã€‘å¯åœ¨ã€é’¦ç‚¹ã€‘å®šä¹‰å‡½æ•°ä¹‹åï¼Œè¿”å›å‡½æ•°è°ƒç”¨çš„ç»“æœã€‚ä¸‹ä¾‹ä¸­ï¼Œå°†ä¸Šä¾‹çš„å‡½æ•°å®šåä¸º <code>ç»­</code> å‡½æ•°ï¼Œç„¶åå°† <code>999</code> ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè°ƒç”¨äº†è¯¥å‡½æ•°ï¼š</p>
  <textarea id="o-input-11" style="height: 1.8rem"></textarea>
  <button id="o-btn-11">å“¦</button>
  <input id="o-result-11" placeholder="ç»­(999)">

  <h3>å‡½æ•°çš„é€’å½’è°ƒç”¨</h3>
  <p>å“¦è¯­è¨€ä¸­çš„å‡½æ•°æ”¯æŒé€’å½’è°ƒç”¨è‡ªèº«ï¼Œæ¯æ¬¡é€’å½’è°ƒç”¨ï¼Œä¼ å…¥çš„å˜é‡éƒ½ä¿å­˜åœ¨å‡½æ•°çš„å±€éƒ¨ä½œç”¨åŸŸä¸­ï¼š</p>
  <textarea id="o-input-13" style="height: 2rem"></textarea>
  <button id="o-btn-13">å“¦</button>
  <input id="o-result-13" placeholder="ä¸€å°ºä¹‹æ£°æ—¥å–å…¶åŠï¼Œæ ˆä¸æº¢å‡ºåˆ™ä¸‡ä¸–ä¸ç«­">

  <p>ä»¥ä¸Šå°±æ˜¯å“¦è¯­è¨€çš„å…¨éƒ¨è¯­æ³•å†…å®¹ï¼Œå¸Œæœ›å¯¹çœŸæ­£çš„ç²‰ä¸æœ‰æ‰€å¸®åŠ©ï¼</p>
</main>

<script src="ove.bundle.js"></script>
<script>
var codes = [
  '(+ 1 2)',
  '(+ 1 s)',
  '(= 90 (- 2016 1926) )',
  '(< å†¬é©¬ 3)',
  [
    '(è¡¨æ€',
    '  (+ 1 s)',
    '  ç¡®ç«‹äº†ğŸ™‚å¸‚åœºç»æµ',
    '  (+ 1 s)',
    '  æŠŠğŸ™‚ç†è®ºåˆ—å…¥ğŸ™‚',
    '  (+ 1 s)',
    '  ä¸‰ä¸ªä»£è¡¨',
    '  (+ 1 s)',
    '  ğŸ™‚ä¸€å¾‹ä¸å¾—ç»å•†',
    '  (+ 1 s)',
    '  ä¹å…«å¹´çš„æŠ—æ´ª',
    '  å¾®å°çš„å·¥ä½œ)'
  ].join('\n'),
  '(è¡¨æ€ (é’¦ç‚¹ é›ªèœ ç¢§æ± ) (= é›ªèœ ç¢§æ± ) å“¦ã€‚',
  '(é—·å£° å‘ å¤§ è´¢)',
  '(è¡¨æ€ (é’¦ç‚¹ è‘£å…ˆç”Ÿ ç‰¹é¦–) (= ç‰¹é¦– è‘£å…ˆç”Ÿ) å“¦ã€‚',
  '(è¡¨æ€ (é—·å£° é’¦ç‚¹ è‘£å…ˆç”Ÿ ç‰¹é¦–) (= ç‰¹é¦– è‘£å…ˆç”Ÿ) å“¦ã€‚',
  [
    '(+ è‹Ÿ',
    '  ( + åˆ©',
    '    ( + å›½',
    '      ( + å®¶',
    '        ( + ç”Ÿ',
    '          ( + æ­»',
    '                å·²',
    '                  å“¦ã€‚'
  ].join('\n'),
  '(å¥‰å‘Š (æ—¶é—´) (+ 1 æ—¶é—´ å“¦ã€‚',
  [
    '(è¡¨æ€',
    '  (é’¦ç‚¹ ç»­',
    '    (å¥‰å‘Š (æ—¶é—´)',
    '      (+ 1 æ—¶é—´)',
    '    å“¦å“¦',
    '  (ç»­ 999 å“¦ã€‚'
  ].join('\n'),
  '(èµ„è¾å— (é—·å£° apply for professor) å‡ ç™¾ä¸ªæ•™æˆä¸€è‡´é€šè¿‡ ä¸é€šè¿‡)',
  [
    '(è¡¨æ€',
    '  (é’¦ç‚¹ ä¸€å°ºä¹‹æ£°æ—¥å–å…¶åŠ',
    '    (å¥‰å‘Š (ä½™æ—¥ æ£°é•¿)',
    '      (èµ„è¾å— (= ä½™æ—¥ 0) æ£°é•¿ (ä¸€å°ºä¹‹æ£°æ—¥å–å…¶åŠ (- ä½™æ—¥ 1) (/ æ£°é•¿ 2)))',
    '    å“¦å“¦',
    '  (ä¸€å°ºä¹‹æ£°æ—¥å–å…¶åŠ 3 1 å“¦ã€‚'
  ].join('\n')
]

window.onload = function () {
  for (var i = 0; i < codes.length; i++) {
    (function (index) {
      var input = document.getElementById('o-input-' + index)
      var result = document.getElementById('o-result-' + index)
      input.placeholder = 'src'
      input.value = codes[i]
      document.getElementById('o-btn-' + index)
        .addEventListener('click', function () {
          try { result.value = ove.exec(input.value) }
          catch (e) { result.value = e }
        })
    })(i)
  }
}
</script>
</body>
</html>
